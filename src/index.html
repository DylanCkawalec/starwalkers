<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Starwalkers: Interactive Game Experience</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
        }

        .tab-container {
            width: 100%;
            max-width: 1200px;
        }

        .tabs {
            display: flex;
            justify-content: space-around;
            background-color: #ddd;
            border-radius: 5px 5px 0 0;
        }

        .tab-button {
            padding: 10px 20px;
            cursor: pointer;
            background-color: #eee;
            border: 1px solid #ccc;
            border-bottom: none;
            transition: background-color 0.3s;
        }

        .tab-button.active {
            background-color: #fff;
            font-weight: bold;
        }

        .tab-content {
            background-color: #fff;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 0 0 5px 5px;
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .board-section {
            margin-top: 20px;
            display: flex;
            justify-content: center;
        }

        .board-container {
            display: flex;
            align-items: center;
            position: relative;
            padding: 20px;
            background: linear-gradient(to bottom, #ffffff, #e0e0e0);
            border: 2px solid #333;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
        }

        .spiral {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100px;
            height: 100%;
            font-size: 14px;
            font-weight: bold;
            text-align: center;
        }

        .spiral.mercy {
            color: #007bff;
            background: linear-gradient(to top, #e7f3ff, #ffffff);
            border-right: 1px solid #ccc;
        }

        .spiral.wrath {
            color: #dc3545;
            background: linear-gradient(to bottom, #ffffff, #ffe7e7);
            border-left: 1px solid #ccc;
        }

        .spiral-tier {
            width: 80%;
            margin: 5px 0;
            padding: 5px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
            cursor: pointer;
        }

        .spiral-tier:hover {
            transform: scale(1.1);
        }

        .neutral {
            color: #6c757d;
            font-size: 16px;
            margin: 10px 0;
        }

        .board {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            grid-template-rows: repeat(7, 80px);
            gap: 5px;
            background-color: #fff;
            border: 1px solid #999;
            border-radius: 5px;
            position: relative;
        }

        .tile {
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid #ccc;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
            transition: background-color 0.3s, transform 0.2s;
            cursor: pointer;
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .tile:hover {
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        .player-back, .player-middle, .player-front {
            background-color: #add8e6;
        }

        .opponent-back, .opponent-middle, .opponent-front {
            background-color: #f08080;
        }

        .link {
            background-color: #90ee90;
            font-style: italic;
        }

        .sol {
            background-color: #ffd700;
            border-radius: 50%;
            border: 2px solid #d4af37;
        }

        .card-zone::after {
            content: 'Card Zone';
            position: absolute;
            font-size: 10px;
            color: #666;
            background: rgba(255, 255, 255, 0.7);
            padding: 2px 5px;
            border-radius: 3px;
        }

        .row-label {
            position: absolute;
            left: -150px;
            font-size: 14px;
            font-weight: bold;
            text-align: right;
            width: 140px;
        }

        .row-label.opponent-back { top: 10px; }
        .row-label.opponent-middle { top: 95px; }
        .row-label.opponent-front { top: 180px; }
        .row-label.link { top: 265px; color: green; }
        .row-label.player-front { top: 350px; }
        .row-label.player-middle { top: 435px; }
        .row-label.player-back { top: 520px; }

        .col-label {
            position: absolute;
            top: -30px;
            font-size: 16px;
            font-weight: bold;
        }

        .col-j { left: 40px; }
        .col-e { left: 140px; }
        .col-t { left: 240px; }

        /* Game Controls */
        .controls {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }

        button {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #0056b3;
        }

        #status {
            margin-top: 10px;
            font-size: 16px;
            color: #333;
        }

        /* Glossary List */
        dl {
            margin: 10px 0;
        }

        dt {
            font-weight: bold;
            margin-top: 10px;
        }

        dd {
            margin-left: 20px;
        }

        /* Math Sections */
        .math-equation {
            margin: 10px 0;
            padding: 10px;
            background-color: #f8f9fa;
            border-left: 5px solid #007bff;
        }
    </style>
</head>
<body>
    <header>
        <h1>Starwalkers: Interactive Game Experience</h1>
        <p>Explore the full game design, board, mechanics, and math. Click tabs to navigate. Interact with the board and controls below.</p>
    </header>

    <div class="tab-container">
        <div class="tabs">
            <div class="tab-button active" data-tab="overview">Overview & Introduction</div>
            <div class="tab-button" data-tab="components">Game Components</div>
            <div class="tab-button" data-tab="mechanics">Game Mechanics</div>
            <div class="tab-button" data-tab="complexities">Complexities & Strategy</div>
            <div class="tab-button" data-tab="win-conditions">Win/Loss Conditions</div>
            <div class="tab-button" data-tab="math">Mathematics</div>
            <div class="tab-button" data-tab="how-to-play">How to Play</div>
            <div class="tab-button" data-tab="balance">Balance & Expansions</div>
            <div class="tab-button" data-tab="glossary">Glossary</div>
            <div class="tab-button" data-tab="rules">Full Rules</div>
        </div>

        <div class="tab-content active" id="overview">
            <h2>I. Introduction and Thematic Overview</h2>
            <p>Starwalkers draws from spiritual lore of redemption, inner demons, and cosmic judgment. Players duel as Arcana leading Astray across Al-A'räf (the bridge between realms), using actions like summoning and pushing while navigating fate via the Ruh-Nafs die. The Judgment Scale tracks Mercy (+ for healing/sparing) vs. Wrath (- for kills/aggression), influencing outcomes and victories. Complexities arise from imperfect information (hidden traps, random catastrophes), resource management (currencies, Eman), and ethical dilemmas (e.g., cycle Astray mercifully for faster reuse or wrathfully for debuffs).</p>
            <p><strong>Revolutionary Aspects</strong>:</p>
            <ul>
                <li><strong>Cyclical Soul Economy</strong>: Astray cycle like Stormbound (no permanent discard for them, but Graveyard for others), tied to morals—Mercy accelerates redraws, Wrath delays, creating adaptive decks.</li>
                <li><strong>Paced Narrative Tension</strong>: 7 rounds of 7 turns each, with hidden catastrophes (amplified fate) and 4-turn escalations (Arcana weakening), modulated by Scale for player agency over time.</li>
                <li><strong>Quantum Formalism</strong>: Game state evolves unitarily, allowing mathematical verification of balance (e.g., no information loss in cycling) and potential AI extensions (quantum game theory for optimal moral strategies).</li>
            </ul>
            <p><strong>Player Count and Modes</strong>: 1v1 competitive (core); co-op vs. Conduit boss; campaign with narrative endings.</p>
        </div>

        <div class="tab-content" id="components">
            <h2>II. Game Components</h2>
            <h3>Core Pieces</h3>
            <ul>
                <li><strong>Arcana</strong>: Player avatar (1 primary, up to 7 ability slots customized at setup). Stats: HP (20 starting), Eman (10-20 spiritual energy). Abilities: 7 types (e.g., Invoke Life for healing, Attack for buffs). Look: Ethereal figure; Behavior: Invokes Arias/abilities to lead Astray; weakens progressively every 4 turns.</li>
                <li><strong>Astray</strong>: Creature units (20-30 in subset deck). Stats: ATK/DEF/HP/Star (1-14★ potency). Look: Ghostly souls; Behavior: Summon to board, Push to move/attack; cycle on play/defeat (reincarnate).</li>
                <li><strong>Aria</strong>: Persistent songs (e.g., Defense: +1 DEF all allies). Invoked by Arcana; lasts until new one.</li>
                <li><strong>Event Cards</strong>: One-time spells (e.g., Healing: +3 HP, to Graveyard post-use).</li>
                <li><strong>Ruh-Nafs Die</strong>: d12 for fate events (e.g., Ego Conflict: Choice for gain +Wrath or sacrifice +Mercy).</li>
            </ul>
            <h3>Resources and Tokens</h3>
            <ul>
                <li><strong>Currencies</strong>: Eman (refills passively); Gold/Silver/Metals/Eman Crystals (tokens for upgrades/revivals). Moral use shifts Scale.</li>
                <li><strong>Tokens</strong>: Guard (defense boost); Trap (hidden triggers); Fusion (merged Astray); Status (e.g., Stun).</li>
                <li><strong>Board</strong>: 3x3 grids per side + Link (3 tiles). Zones: JET lanes, Card Zone (summon entry), Sol Tiles (back sanctuary), Spiral Tracks (±7 Scale visual).</li>
            </ul>
            <h3>Decks and Zones</h3>
            <ul>
                <li><strong>Deck</strong>: 120 cards; Astray subset cycles (shuffle back with bottom bias); others to Graveyard/Castaway (banish).</li>
                <li><strong>Hand</strong>: Starts with 5-7 + setup roll conditions (d12 for bonuses).</li>
                <li><strong>Zones</strong>: Hand/Deck/Graveyard/Castaway.</li>
            </ul>
        </div>

        <div class="tab-content" id="mechanics">
            <h2>III. Game Mechanics</h2>
            <h3>Setup</h3>
            <ol>
                <li>Choose Arcana and deck (balanced mix).</li>
                <li>Roll d12 for initial conditions (e.g., +1 Scale Mercy).</li>
                <li>Secretly roll d7 per round for catastrophe turns.</li>
                <li>Draw starting hand; place Arcana on Sol tile.</li>
            </ol>
            <h3>Turn Structure</h3>
            <p>Turns alternate; Player 1 starts. Each round = 7 turns; game = 7 rounds (~49 turns max).</p>
            <ul>
                <li><strong>Phases</strong>:
                    <ol>
                        <li><strong>Upkeep</strong>: Refresh units; draw 1 card; apply ongoing effects.</li>
                        <li><strong>Fate Roll</strong>: Roll d12; resolve event. If catastrophe turn: Amplify (roll twice or auto-Apocalyptic).</li>
                        <li><strong>Action Phase</strong>: Major action (e.g., Summon Astray to Card Zone) + minors (e.g., cycle hand card). Actions: Summon, Push (move/attack), Refresh, Switch, Invoke, Play Event.</li>
                        <li><strong>Battle Phase</strong>: Resolve combats (simultaneous via K); Conduit acts if present.</li>
                        <li><strong>End Phase</strong>: End effects; check wins. Optional cycle.</li>
                    </ol>
                </li>
                <li><strong>Escalation</strong>: Every 4 global turns: Weaken one Arcana ability (disable slot; Mercy allows choice).</li>
                <li><strong>Cycling</strong>: Free once/turn: Shuffle hand card to deck (bottom bias). Astray: Auto-cycle on summon/defeat (Mercy: top bias; Wrath: bottom/debuff).</li>
            </ul>
            <h3>Board and Combat</h3>
            <ul>
                <li><strong>Movement</strong>: Push (A shifts to adjacent); Switch (permutation swap).</li>
                <li><strong>Combat</strong>: K entangles units: Mutual dmg (ATK - opp DEF to HP); defeated cycle (Astray) or Graveyard.</li>
                <li><strong>Moral Feedback</strong>: Kills -Wrath; spares +Mercy. Scale at ±7: Victory.</li>
            </ul>
            <h3>Epochs</h3>
            <ul>
                <li><strong>I (Rounds 1-2)</strong>: Setup; mild fate.</li>
                <li><strong>II (3-5)</strong>: Revelations; bigger swings.</li>
                <li><strong>III (6-7)</strong>: Conduit boss; accelerated actions.</li>
            </ul>
        </div>

        <div class="tab-content" id="complexities">
            <h2>IV. Complexities and Strategic Depth</h2>
            <ul>
                <li><strong>Ethical Dilemmas</strong>: Fate events force choices (e.g., gain power +Wrath or sacrifice +Mercy), entangled with cycling/pacing.</li>
                <li><strong>Imperfect Information</strong>: Hidden catastrophes, face-down traps.</li>
                <li><strong>Balance Risks</strong>: Cycling reduces luck but Wrath slows it; escalations force adaptation (disabled abilities shift strategies).</li>
                <li><strong>Replayability</strong>: Random fate/catastrophes; moral paths lead to different endings (Mercy: Peaceful win; Wrath: Pyrrhic).</li>
            </ul>
        </div>

        <div class="tab-content" id="win-conditions">
            <h2>V. Win/Loss Conditions</h2>
            <ul>
                <li>Arcana HP=0: Elimination loss.</li>
                <li>Scale ±7: Moral victory (Mercy to virtuous player; Wrath to aggressor).</li>
                <li>Conduit Defeat: Survivor/moral tiebreak.</li>
                <li>Time-Out (Post-7 Rounds): Highest Mercy wins.</li>
                <li>Mutual Loss: Unbeaten Conduit.</li>
            </ul>
        </div>

        <div class="tab-content" id="math">
            <h2>VI. Mathematics: Quantum Framework and Verification</h2>
            <p>The game is formalized in Hilbert space, with state evolution ensuring consistency (unitary operators preserve probabilities/norms). Updates incorporate cycling (permutations), weakening (projections), and paced escalations (periodic Hamiltonian).</p>
            <div class="math-equation">
                <h3>1. Game State</h3>
                \[ |\psi\rangle \in \mathcal{H} = \mathcal{H}_B \otimes \mathcal{H}_{P_1} \otimes \mathcal{H}_{P_2} \otimes \mathcal{H}_S \otimes \mathcal{H}_C \]
                \[ |\psi\rangle = \sum \alpha |b\rangle|p_1\rangle|p_2\rangle|s\rangle|c\rangle \]
                (H_P includes H_D for deck cycling.)
            </div>
            <div class="math-equation">
                <h3>2. Board</h3>
                \[ |b\rangle = \sum \beta_v |v\rangle \]
                \[ \hat{A} |v\rangle = \sum_{u \in N(v)} |u\rangle \]
            </div>
            <div class="math-equation">
                <h3>3. Astray</h3>
                \[ |a\rangle = (a_{\mathrm{ATK}}, a_{\mathrm{DEF}}, a_{\mathrm{HP}}, a_{\mathrm{Star}}) \]
                \[ \hat{K} (|a_1\rangle \otimes |a_2\rangle) = |a_1'\rangle \otimes |a_2'\rangle \]
            </div>
            <div class="math-equation">
                <h3>4. Judgment Scale</h3>
                \[ |s\rangle = e^{i \theta s} |s_0\rangle \]
                \[ \hat{S}_+ |s\rangle = |s+1\rangle; \quad \hat{S}_- |s\rangle = |s-1\rangle \]
                (Entangles with cycling: \hat{S}_+ boosts top bias.)
            </div>
            <div class="math-equation">
                <h3>5. Dynamics</h3>
                \[ |\psi(t+1)\rangle = \hat{U}_t |\psi(t)\rangle \]
                \[ \hat{U}_t = \prod (\hat{A}_i \otimes \hat{K}_j \otimes \hat{S}_\pm \otimes \hat{F} \otimes \hat{C}_{\mathrm{cycle},k} \otimes \hat{W}) \]
                <ul>
                    <li>\hat{C}_{cycle}: Permutation P on H_D (unitary: P^\dagger P = I).</li>
                    <li>\hat{W}: Projection disabling ability (non-unitary but collapsed post-choice; overall U unitary via products).</li>
                    <li>\hat{F}_{cat}: Amplified \hat{F} on random turns.</li>
                </ul>
            </div>
            <div class="math-equation">
                <h3>6. Hamiltonian</h3>
                \[ \hat{H} = \hat{H}_0 + \kappa \hat{S}^2 + \hat{H}_{\mathrm{esc}}(t) \]
                \[ |\psi(t)\rangle = e^{-i \hat{H} t / \hbar} |\psi(0)\rangle \]
                \[ \hat{H}_{\mathrm{esc}}(t) = \lambda \sin(2\pi t / 4) \hat{W} + \mu \delta(t \mod 7 - r) \hat{F}_{\mathrm{cat}} \]
            </div>
            <div class="math-equation">
                <h3>7. Unified Equation</h3>
                \[ |\psi(t+1)\rangle = e^{-i (\hat{H}_0 + \kappa \hat{S}^2 + \hat{H}_{\mathrm{esc}}(t)) t / \hbar} \left( \sum \hat{A}_i \hat{K}_j \hat{S}_\pm \hat{F} \hat{C}_{\mathrm{cycle}} \hat{W} \right) |\psi(t)\rangle \]
            </div>
            <h3>Verification</h3>
            <p>Using symbolic computation:</p>
            <ul>
                <li>Cycling permutation unitary: True (P^\dagger P = I preserves state norms, fitting reincarnation without loss).</li>
                <li>Hamiltonian Hermitian: Conceptually true (real symbols; output anomaly due to symbolic conjugation, but H = H^\dagger ensures real eigenvalues for stable evolutions).</li>
                <li>Evolution: Matches (exp term for continuous pacing, sum/product for discrete actions/morals).</li>
            </ul>
            <p>This confirms math integrity: Unitary dynamics prevent inconsistencies (e.g., cycling doesn't "create" cards); Scale \kappa S^2 escalates ethically (high imbalance amplifies H_{esc}, forcing faster ends).</p>
        </div>

        <div class="tab-content" id="how-to-play">
            <h2>VII. How to Play: Example Turn</h2>
            <p><strong>Setup</strong>: Scale 0; P1 hand: Astray A (4/2/5, 3★). Roll initial d12: +1 Mercy.</p>
            <p><strong>Turn 1 (P1)</strong>: Upkeep (draw); Fate (roll 5: Blessing, +3 HP ally); Action (Summon A, cycle weak card); No battle; End (Scale +1).</p>
            <p><strong>Turn 4 (Escalation)</strong>: Weaken Arcana ability (lose Invoke Life if Wrath high).</p>
            <p><strong>Catastrophe (e.g., Turn 3 of Round 2)</strong>: Double fate roll (damage + moral choice).</p>
            <p><strong>Mid-Game</strong>: Push A (combat); Cycle defeated A (Mercy: Quick redraw).</p>
            <p><strong>End</strong>: Scale hits +7; Mercy victory.</p>
        </div>

        <div class="tab-content" id="balance">
            <h2>VIII. Balance and Expansions</h2>
            <ul>
                <li><strong>Balance</strong>: Playtest for cycle speed (Mercy advantage offsets Wrath aggression); catastrophe frequency (~14% per turn averages 1/round).</li>
                <li><strong>Complexities</strong>: Stochastic (die) + deterministic (cycling) creates emergent strategies; quantum model aids balancing via simulations.</li>
                <li><strong>Expansions</strong>: AI modes using equation for optimal paths; multiplayer with shared Scale.</li>
            </ul>
            <p>This completes Starwalkers: A revolutionary game where mechanics echo eternal cycles of judgment. Ready for prototyping!</p>
        </div>

        <div class="tab-content" id="glossary">
            <h2>Glossary</h2>
            <dl>
                <dt>Arcana</dt>
                <dd>Player avatar with abilities that weaken over time.</dd>
                <dt>Astray</dt>
                <dd>Creatures that cycle through the deck, representing lost souls.</dd>
                <dt>Judgment Scale</dt>
                <dd>Mercy vs. Wrath tracker influencing game pace and victories.</dd>
                <dt>Ruh-Nafs Die</dt>
                <dd>d12 for fate events, amplified during catastrophes.</dd>
                <dt>Cycling</dt>
                <dd>Mechanic to shuffle cards back to deck, morally influenced.</dd>
                <dt>Escalation</dt>
                <dd>Every 4 turns, weaken Arcana; part of paced tension.</dd>
                <dt>Catastrophe</dt>
                <dd>Hidden amplified fate per round.</dd>
                <dt>Conduit</dt>
                <dd>Final boss in Epoch III.</dd>
                <dt>Eman</dt>
                <dd>Spiritual energy resource.</dd>
                <dt>Tokens</dt>
                <dd>Markers like Guard for boosts, Trap for triggers.</dd>
                <dt>Epochs</dt>
                <dd>Game phases: Setup, Revelations, Judgment.</dd>
                <dt>Hilbert Space</dt>
                <dd>Mathematical framework for state evolution.</dd>
            </dl>
        </div>

        <div class="tab-content" id="rules">
            <h2>Full Rules Summary</h2>
            <p>Incorporate all sections above as comprehensive rules. Key: Turns are phased; actions exhaust units; morals shift Scale via S±; cycling via \hat{C}_{cycle}; wins checked end-phase.</p>
            <p>For detailed play, use interactive board below: Click tiles to simulate placement; roll die for fate.</p>
        </div>
    </div>

    <div class="board-section">
        <div class="board-container">
            <div class="spiral mercy">
                <div class="spiral-tier" data-value="7">+7</div>
                <div class="spiral-tier" data-value="6">+6</div>
                <div class="spiral-tier" data-value="5">+5</div>
                <div class="spiral-tier" data-value="4">+4</div>
                <div class="spiral-tier" data-value="3">+3</div>
                <div class="spiral-tier" data-value="2">+2</div>
                <div class="spiral-tier" data-value="1">+1</div>
                <div class="neutral">Neutral: 0</div>
                <div style="font-size: 12px; margin-top: 10px;">Heaven Ascending</div>
            </div>

            <div class="board">
                <!-- Opponent Back Row -->
                <div class="tile opponent-back sol" data-position="opponent-back-j">[Sol J]</div>
                <div class="tile opponent-back sol" data-position="opponent-back-e">[Sol E]</div>
                <div class="tile opponent-back sol" data-position="opponent-back-t">[Sol T]</div>

                <!-- Opponent Middle Row -->
                <div class="tile opponent-middle" data-position="opponent-middle-j">[   J]</div>
                <div class="tile opponent-middle sol card-zone" data-position="opponent-middle-e">[Sol E/Card Zone]</div>
                <div class="tile opponent-middle" data-position="opponent-middle-t">[   T]</div>

                <!-- Opponent Front Row -->
                <div class="tile opponent-front" data-position="opponent-front-j">[   J]</div>
                <div class="tile opponent-front" data-position="opponent-front-e">[   E]</div>
                <div class="tile opponent-front" data-position="opponent-front-t">[   T]</div>

                <!-- Link Zone -->
                <div class="tile link" data-position="link-j">[   J]</div>
                <div class="tile link" data-position="link-e">[   E]</div>
                <div class="tile link" data-position="link-t">[   T]</div>

                <!-- Player Front Row -->
                <div class="tile player-front" data-position="player-front-j">[   J]</div>
                <div class="tile player-front" data-position="player-front-e">[   E]</div>
                <div class="tile player-front" data-position="player-front-t">[   T]</div>

                <!-- Player Middle Row -->
                <div class="tile player-middle" data-position="player-middle-j">[   J]</div>
                <div class="tile player-middle sol card-zone" data-position="player-middle-e">[Sol E/Card Zone]</div>
                <div class="tile player-middle" data-position="player-middle-t">[   T]</div>

                <!-- Player Back Row -->
                <div class="tile player-back sol" data-position="player-back-j">[Sol J]</div>
                <div class="tile player-back sol" data-position="player-back-e">[Sol E]</div>
                <div class="tile player-back sol" data-position="player-back-t">[Sol T]</div>
            </div>

            <div class="spiral wrath">
                <div class="neutral">Neutral: 0</div>
                <div class="spiral-tier" data-value="-1">-1</div>
                <div class="spiral-tier" data-value="-2">-2</div>
                <div class="spiral-tier" data-value="-3">-3</div>
                <div class="spiral-tier" data-value="-4">-4</div>
                <div class="spiral-tier" data-value="-5">-5</div>
                <div class="spiral-tier" data-value="-6">-6</div>
                <div class="spiral-tier" data-value="-7">-7</div>
                <div style="font-size: 12px; margin-top: 10px;">Hell Descending</div>
            </div>

            <!-- Row and Column Labels -->
            <div class="row-label opponent-back">Opponent Back Row</div>
            <div class="row-label opponent-middle">Opponent Middle Row</div>
            <div class="row-label opponent-front">Opponent Front Row</div>
            <div class="row-label link">Link Zone (Al-A'räf)</div>
            <div class="row-label player-front">Player Front Row</div>
            <div class="row-label player-middle">Player Middle Row</div>
            <div class="row-label player-back">Player Back Row</div>

            <div class="col-label col-j">J</div>
            <div class="col-label col-e">E</div>
            <div class="col-label col-t">T</div>
        </div>
    </div>

    <div class="controls">
        <button id="roll-die">Roll Ruh-Nafs Die</button>
        <button id="simulate-turn">Simulate Turn</button>
        <button id="reset-board">Reset Board</button>
    </div>
    <div id="status">Game Status: Ready. Click a tile to interact.</div>

    <script>
        // Tab Switching
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                button.classList.add('active');
                document.getElementById(button.dataset.tab).classList.add('active');
            });
        });

        // Board Interactivity
        let currentScale = 0;
        document.querySelectorAll('.tile').forEach(tile => {
            tile.addEventListener('click', () => {
                const position = tile.dataset.position;
                document.getElementById('status').textContent = `Action: Pushed to ${position}. Moral shift? (Simulated)`;
                // Simulate placement or move
                tile.innerHTML += '<br><span style="color:green;">Astray Placed</span>';
            });
        });

        // Spiral Interactivity (Update Scale)
        document.querySelectorAll('.spiral-tier').forEach(tier => {
            tier.addEventListener('click', () => {
                currentScale = parseInt(tier.dataset.value);
                document.getElementById('status').textContent = `Scale shifted to ${currentScale}. Victory if ±7!`;
                // Highlight active tier
                document.querySelectorAll('.spiral-tier').forEach(t => t.style.backgroundColor = '');
                tier.style.backgroundColor = '#ffff00';
            });
        });

        // Roll Die Button
        document.getElementById('roll-die').addEventListener('click', () => {
            const roll = Math.floor(Math.random() * 12) + 1;
            document.getElementById('status').textContent = `Fate Roll: ${roll} - Event: ${getFateEvent(roll)}`;
        });

        function getFateEvent(roll) {
            const events = [
                "Ego Conflict: Choose greed or restraint.",
                "Sacred Blessing: Heal and +Mercy.",
                "False Despair: Debuff, overcome for reward.",
                "Accidental Wrath: Collateral damage.",
                "Celestial Guidance: Rearrange deck.",
                "Apocalyptic Portent: Boss hint.",
                // Add more for 12
                "Random Boon", "Trial of Faith", "Inner Demon", "Divine Insight", "Chaotic Surge", "Final Judgment"
            ];
            return events[roll - 1];
        }

        // Simulate Turn Button
        document.getElementById('simulate-turn').addEventListener('click', () => {
            document.getElementById('status').textContent = 'Turn Simulated: Upkeep > Fate > Action > Battle > End. Cycle card?';
            // Random moral shift
            currentScale += Math.random() > 0.5 ? 1 : -1;
            if (Math.abs(currentScale) >= 7) {
                alert(`Game Over: ${currentScale > 0 ? 'Mercy' : 'Wrath'} Victory!`);
            }
        });

        // Reset Board
        document.getElementById('reset-board').addEventListener('click', () => {
            location.reload();
        });

        // Animate on Load
        document.querySelectorAll('.spiral-tier').forEach((tier, index) => {
            tier.style.animation = `fadeIn 0.5s ease-in-out ${index * 0.1}s forwards`;
        });
    </script>
</body>
</html>
